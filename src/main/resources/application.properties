spring.datasource.url=jdbc:postgresql://localhost:5432/odyssey_db
spring.datasource.username=postgres
spring.datasource.password=ROOT

server.port=8081

spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.defer-datasource-initialization=true

spring.jpa.open-in-view=true
spring.jpa.properties.hibernate.format_sql=true

spring.jpa.generate-ddl=true

spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

spring.sql.init.mode=always
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

#SECURITY

server.ssl.enabled=true
server.ssl.key-alias=https-certificate
server.ssl.key-store=${ODYSSEY_KEY_STORE_PATH}
server.ssl.key-store-type=JKS
server.ssl.key-store-password=${ODYSSEY_KEY_STORE_PASSWORD}

spring.security.oauth2.client.registration.keycloak.client-id=odyssey-backend
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.keycloak.scope=openid

spring.ldap.embedded.ldif=classpath:data.ldif
spring.ldap.embedded.base-dn=dc=springframework,dc=org
spring.ldap.embedded.validation.enabled=false
spring.ldap.embedded.port=8389

#Windows
#spring.security.oauth2.resourceserver.jwt.issuer-uri=https://localhost:8080/realms/Odyssey
#spring.security.oauth2.client.provider.keycloak.issuer-uri=https://localhost:8080/realms/Odyssey

#Mac
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://localhost:8443/realms/Odyssey
spring.security.oauth2.client.provider.keycloak.issuer-uri=https://localhost:8443/realms/Odyssey

spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username
